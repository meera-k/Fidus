<!DOCTYPE html>
<html lang = "en">
<head>
    <link rel="stylesheet" href="styles.css">
    <script src="/Users/meerakumar/Documents/GitHub/Fidus/main.js"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.357.0.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <title>Fidus PPE Detection</title>
</head>
<body>
    <h1>Fidus</h1>
    <p id="demo-description">
        Try out our PPE detector by uploading your own image below.
    </p>

    <form action="">
        <h2 id="image-select-title">Object detection</h2>
        <div id="image-select">
            <h3 class="image-select-description">Use your own image</h3>
            <p class="image-select-description">
                Image must be in <b>jpeg</b> format and be no larger than <b>5MB</b>.
            </p>

            <input type="file" accept="image/jpeg" id="init-image" onchange="previewFile()" onsubmit="getResult()" name="file_name">
            <input type="hidden" id="file_name" name="image_url" onsubmit="getURL()">
            <button type="submit" id="submit" onclick="getResult()">Submit</button>
            <img id="image-select-preview" src="">

            <!-- <script>
                File.prototype.convertToBase64 = function(callback){
                    var reader = new FileReader();
                    reader.onloadend = function (e) {
                        callback(e.target.result, e.target.error);
                    };   
                    reader.readAsDataURL(this);
                };

                $("#init-image").on('change',function(){
                    var selectedFile = this.files[0]; //this is the file being converted
                    selectedFile.convertToBase64(function(base64){ 
                        //not sure what this function is doing
                        var url = base64;
                        console.log(url);
                    }) 
                });
            </script> -->
        </div>
    </form>
</body>